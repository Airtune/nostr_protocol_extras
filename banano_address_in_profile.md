# Banano address in profile with proof

Following NIP-39:
https://github.com/nostr-protocol/nips/blob/master/39.md

Add Banano address to profile:
```json
{
    "id": <id>,
    "pubkey": <nostr_pubkey>,
    ...
    "tags": [
        ["i", "banano:<banano_address>", "<nostr_banano_link_signature>"],
        ...
    ]
}
```

The `"<nostr_banano_link_signature>"` is generated by signing this message template:
```
I'm linking this Banano account to my Nostr account:
Nostr public key: <nostr_pubkey>
```
Where `<nostr_pubkey>` is the public key for the Nostr account the user wants to link to their Banano account.

Here's how to generate a sign request URL for `<nostr_banano_link_signature>` from https://thebananostand.com
```js
const nostr_banano_sign_link = (nostr_pubkey, banano_address) => {
  const submitToUrl = "https://example.com/api/relay_signature_back_to_nostr_client";
  const message = `I'm linking this Banano account to my Nostr account:\nNostr public key: ${nostr_pubkey}`;
  return `https://thebananostand.com/sign-message#message=${encodeURIComponent(message)}&url=${encodeURIComponent(submitToUrl)}`;
};
```

If you're making a javascript client that works with both Nostr and Banano:
```js
const get_nostr_banano_link_signature = (nostr_pubkey, bananoPrivateKeyOrSigner) => {
  const message = `I'm linking this Banano account to my Nostr account:\nNostr public key: ${nostr_pubkey}`;
  return bananojs.signMessage(bananoPrivateKeyOrSigner, message);
};
```

The `"<banano_signature>"` can then be verified using javascript in the client like so:
```js
const verify_nostr_banano_link_signature = (nostr_pubkey, banano_address, banano_signature) => {
  const message = `I'm linking this Banano account to my Nostr account:\nNostr public key: ${nostr_pubkey}`;
  const banano_public_key = bananojs.getAccountPublicKey(banano_address);
  return bananojs.verifyMessage(banano_public_key, message, banano_signature);
};
```
